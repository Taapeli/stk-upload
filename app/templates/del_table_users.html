{# _myapp/templates/table1.html_ #}
{% extends "a_layout.html" %}
{% block title %}{{ _("Tiedot kannasta") }}{% endblock %}
{% block body %}
{{ super() }}

<h2>{{ _("Käyttäjät") }}</h2>
{% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
    <ul  class='flashes'>
    {% for category, message in messages %}
      <li class='flash_{{category}}}'>{{ message }}</li>
    {% endfor %}
    </ul>
  {% endif %}
{% endwith %}

<section id="lista">
<table>
    <tr><th>{{ _("user id") }}</th><th>{{ _("name") }}</th><th>{{ _("email") }}</th><th>{{ _("roles") }}</th>
    </tr>
{% if users %}
    {% for u in users %}
        <tr>
            <td>{{u.username}}</td>
            <td>{{u.name}}</td>
            <td>{{u.email}}</td>
            <td>{{u.roles}}</td>
        </tr>
    {% endfor %}
{% else %}
        <tr><td colspan="1">{{ _("Ei tietoja") }}</td></tr>
{% endif %}
</table>

<div>
	<h3>{{ _("Luo käyttäjätunnus") }}</h3>
	<form action="/newuser" method="post">
	    <p>{{ _("Käyttäjätunnus") }} <input type="text" name="userid" size="10"></p>
	    <p>{{ _("Nimi") }} <input type="text" name="name"></p>
	    <p><input type="submit" value="{{ _('Luo uusi käyttäjä tai päivitä vanha') }}"/></p>
    </form>
</div>
</section>
{% endblock %}
