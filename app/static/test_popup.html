<!DOCTYPE html>
<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" type="text/css" href="/static/css/k_screen.css" media="screen">
  <link rel="stylesheet" type="text/css" href="/static/css/popup.css">
  <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
  <script src="/static/js/axios.min.js"></script>
</head>

<body>
<style>
/* Color scale:
    pop-window:         #f2f1f0 / black
    - button:           #008CBA / white
    pop-container > div:#d4dee3 / black
    - inlink:           #f9ebcd LemonChiffon / #006
    
*/
#pop-window {
    max-width: 416px; 
    max-height: 250px; 
    background: #f2f1f0;
    overflow: scroll;
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.3);
    position: absolute;
    z-index: 1;
    top: 25%;
    left: 50%;
    margin-left: -208px;
}
#pop-buttons {
    list-style-type: none;
}
div#pop-buttons button.button {
  padding: 2px 5px;
  text-align: center;
  text-decoration: none;
  display: inline-block;
  cursor: pointer;
  background: #008CBA;
  color: white;
  border-radius: 1em;
  margin: 5px 2px;
}

.pop-container {
    display: flex;
    flex-wrap: nowrap;
}
.pop-container > div {
    background: #d4dee3;
/*     color:white; */
    font-size:9pt;
    padding:4px;
    margin:4px;
    width:404px !important;
}
.pop-box a.inlink {
    background: #f9ebcd;
/*  color:white; */
    margin: 0 .3em;
    padding: 0 .3em;
    border-radius: 5px;
}


div.pop-box ul {
    padding-left:1.5em;
}
.row div { display: inline-block; }
</style>

<h2>Popup</h2>
<p style="margin:4em;">&nbsp;</p>
<table>
<td class="ColumnPerson">
    <div>
        <div class="detail_link">
            ‚ôÇ <a href="/scene/person?uuid=58dc6b1ec48a490c94f52ea2b2024936"
            class="inlink" title="Katso henkil√∂n 034454 tiedot (nr. 549094)">Anders Reinhold <i>Andersson</i>
                <b></b></a>
            <div class="popup" onclick="showPopup(id='58dc6b1ec48a490c94f52ea2b2024936')"
                title="N√§yt√§ perheet"> üë®‚Äçüëß‚Äçüë¶</div>
        </div>
        <br>
        <span class="idno">Uuid:0206d8 /</span>
        <span class="id" title="Alkuper√§inen tunniste">I2090</span>
    </div>
</td>
<td class="ColumnEvent">
    <div>
        <div class="eventgrid">
            <div class="col col_event"><span class="evtype major">syntym√§</span></div>
            <div class="col col_date">15.8.1825 | Perttala</div>
        </div>
        <div class="eventgrid">
            <div class="col col_event"><span class="evtype major">kuolema</span></div>
            <div class="col col_date">8.12.1846 | Keskitalo</div>
        </div>
    </div>
</td>
</table>

<hr>
<div id="popup_app">
  <div class="row">
    <div>Henkil√∂n uuid <input v-model="person_uuid"></div>
    <div>
        
        <button v-on:click="getFamilies(uuid=person_uuid)">
          Hae perheet</button>
    </div>
    <div>${status} <span style="color:red">${ message }</span></div>
  </div>

<div id="popup" class="popup">
    <span class="popupbox" id="popWin" title="perhe F0249" v-show="false">
        <p>Staattinen popup-esimerkki</p>
        <p><a href="/scene/family?uuid=e8450bbbd48348338abce8b900df3bf8" title="e8450bbbd48348338abce8b900df3bf8" class="inlink">
                         Perhe avioliitossa</a>
                       3.12.1820</p>
        <ul>
            <li>Mies: <a href="/scene/person?uuid=ea28" class="inlink" title="Katso henkil√∂n ea28f1 tiedot (nr. 548956)">Anders <i>Jacobsson</i>  <b></b></a> s.&nbsp;19.11.1762
            </li>
            <li>Vaimo: <a href="/scene/person?uuid=f8bb" class="inlink" title="Katso henkil√∂n f8bb4c tiedot (nr. 548968)">Maria <i>Johansdotter</i>  <b></b></a> s.&nbsp;26.9.1787
            </li>
            <li>Lapset<ul>
                <li>Poika: <a href="/scene/person?uuid=36a1" class="inlink" title="Katso henkil√∂n 36a108 tiedot (nr. 549096)">Jonas <i>Andersson</i>  <b></b></a> s.&nbsp;15.8.1825
                </li>
                <li>Poika: <span class="myself">&nbsp;(itse)&nbsp;</span>
                </li>
                </ul>
            </li>
       </ul>
    </span>
</div>

  <div id="pop-window" v-if="families.length > 0">

    <div id="pop-buttons" v-if="families.length > 1">
      <button class="button"
            v-on:mouseover="changeFamily(index)"
            v-for="(f, index) of families" :key="f.id">
        ${index+1}. ${f.role}</button>
    </div>

    <div class="pop-container" v-on:click="away('Close action?')">
      <div class="pop-box" v-if="currentId">
          <p><a v-bind:href="current.href" title="See family" class="inlink">
              Perheess√§ ${current.role}</a>  ${current.rel_type} ${current.dates}
          </p>
          <ul>
              <li v-for="p in current.parents" :key="p.uuid">
                  ${p.role}
                  <span v-if="p.is_self" style="color:black;font-weight:bold;">
                    itse
                  </span>
                  <span v-else>
                    <a v-bind:href="p.href" class="inlink" title="Katso henkil√∂√§"
                        >${p.name[1]} <i>${p.name[2]}</i> <b>${p.name[0]}</b></a>
                    s.&nbsp;${p.birth}
                  </span>
              </li>
              <li v-if="current.has_children">Lapset
                 <ul>
                     <li v-for="p in current.children" :key="p.uuid">
                       ${p.gender}:
                       <span v-if="p.is_self" style="color:black;font-weight:bold;">
                         itse
                       </span>
                       <span v-else>
                         <a v-bind:href="p.href" class="inlink" title="Katso henkil√∂√§"
                            >${p.name[1]} <i>${p.name[2]}</i> <b>${p.name[0]}</b></a>
                         s.&nbsp;${p.birth}
                       </span>
                     </li>
                 </ul>
              </li>
          </ul>
      </div>

    </div>
  </div>

</div>
</body>
</html>
<!-- vue and assistant  -->
<script src="/static/js/family_popup.js"></script>

