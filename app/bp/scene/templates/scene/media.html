{# /scene/templates/scene/media.html_ #}
{% extends "/scene/layout.html" %}
{% block title %}{{ _('Media data') }} (scenemedias){% endblock %}
{% block body %}
{{ super() }}
{% import '/scene/macros.html' as macro with context %}
<script src="/static/infobox.js"></script>
<style>
h3 {margin-top: 1em;}
p {margin-left:15px;}
#flex {display: flex; height:75vh;}
#flex > div {
    margin:.5em; padding: 1em;
    width: 45%; min-height: 60%;
}
.pic_container {
  width: 100%;
  padding-top: 100%; /* 1:1 Aspect Ratio */
  position: relative;
  border: 2px solid brown;
}
.pic {
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
}
</style>

<div id="startdiv">
  <h2>{{ _('Media data') }}</h2>
</div>

{{ macro.menu(6) }}
<div class="content" id="IndividualDetail">

{% if media %}


  <div id="flex">

    <div>
		<h3>{{ media.description }}</h3>

        <div id="summaryarea">
		  <p>{{ _('Original ID') }}: {{media.id}}</p> 
		<p><div class="thumbnail">
	            <a href="/scene/media/{{media.name}}?id={{media.uuid}}">
	            <img alt="({{ _('Photo') }})" 
	                 src="/scene/thumbnail?id={{media.uuid}}" 
	                 title="key = {{media.uuid_str()}}"/></a>
	        </div></p>
		</div>
     
	    <h3>{{ _('References') }}</h3>
		
	    {% if media.ref %}
	    <ul>
		    {% for p in media.ref %}
		    	{% if p[0] == 'Person' %}
		    		<li><a href="/scene/person?uuid={{p[1].uuid}}"
			               title="{{ _('see details of person %(id)s', id=p[1].uuid_short()) }} (nr={{p[1].uniq_id}})">
			               {{p[1].sortname}}</a>
			    {% elif p[0] == 'Place' %}
		    		<li><a href="/scene/location/uuid={{p[1].uuid}}"
			               title="{{ _('see details of place %(id)s', id=p[1].uuid_short()) }} (nr={{p[1].uniq_id}})">
			               {{p[1].pname}}</a>
			    {% endif %}
		    {% endfor %}
		</ul>
	    {% else %}
	    -
		{% endif %}
	</div>

	<div class="pic_container">
        <div class="pic">
            <a href="/scene/media/{{media.name}}?id={{media.uuid}}">
            	<img alt="picture {{media.description}}" src="{{media.src | safe }}" 
                 	 title="key = {{media.uuid_str()}}"/></a>
        </div>
	</div>
  </div>
{% endif %}
</div>

{% endblock %}
